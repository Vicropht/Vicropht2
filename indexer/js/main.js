/*!
 * 
 * 	@preserved
 *
 *
 * 	## eyy-indexer - A directory explorer ##
 *
 *
 * 	[Version: 1.1.9]
 *
 * 	[Git: https://github.com/sixem/eyy-indexer]
 *
 * 	[Build: bdba786d6b8ff3570a43 @ Tuesday, June 15th 2021]
 *
 * 	[Chunkhash: 4916904599c72d70b7ab]
 *
 *
 * 	Copyright (c) 2021 emy | five.sh | github.com/sixem
 *
 * 	Licensed under GPL-3.0
 *
 *
 */(()=>{var e={808:(e,t,i)=>{var n,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(s){if(void 0===(r="function"==typeof(n=s)?n.call(t,i,t,e):n)||(e.exports=r),!0,e.exports=s(),!!0){var o=window.Cookies,a=window.Cookies=s();a.noConflict=function(){return window.Cookies=o,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(n){function r(){}function s(t,i,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},r.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(i);/^[\{\[]/.test(o)&&(i=o)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,!0!==s[l]&&(a+="="+s[l].split(";")[0]));return document.cookie=t+"="+i+a}}function o(e,i){if("undefined"!=typeof document){for(var r={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var a=s[o].split("="),l=a.slice(1).join("=");i||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(a[0]);if(l=(n.read||n)(l,c)||t(l),i)try{l=JSON.parse(l)}catch(e){}if(r[c]=l,e===c)break}catch(e){}}return e?r[e]:r}}return r.set=s,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,i){s(t,"",e(i,{expires:-1}))},r.defaults={},r.withConverter=i,r}((function(){}))}))},866:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,t&&t.set(e,i);return i}(i(387)),o=i(145);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"state",void 0),c(this,"props",void 0),this.state=s.getInitialState(),this.props=s.getInitialProps(t),this.handleSwipeStart=this.handleSwipeStart.bind(this),this.handleSwipeMove=this.handleSwipeMove.bind(this),this.handleSwipeEnd=this.handleSwipeEnd.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.setupTouchListeners(),this.setupMouseListeners()}},{key:"update",value:function(e){var t=this.props,i=Object.assign({},t,e);if(t.element!==i.element||t.target!==i.target)return this.destroy(),this.props=i,void this.init();this.props=i,t.mouseTrackingEnabled===i.mouseTrackingEnabled&&t.preventTrackingOnMouseleave===i.preventTrackingOnMouseleave||(this.cleanupMouseListeners(),i.mouseTrackingEnabled?this.setupMouseListeners():this.cleanupMouseListeners()),t.touchTrackingEnabled!==i.touchTrackingEnabled&&(this.cleanupTouchListeners(),i.touchTrackingEnabled?this.setupTouchListeners():this.cleanupTouchListeners())}},{key:"destroy",value:function(){this.cleanupMouseListeners(),this.cleanupTouchListeners(),this.state=s.getInitialState(),this.props=s.getInitialProps()}},{key:"setupTouchListeners",value:function(){var e=this.props,t=e.element,i=e.target,n=e.touchTrackingEnabled;if(t&&n){var r=i||t,o=s.checkIsPassiveSupported(),a=s.getOptions(o);r.addEventListener("touchstart",this.handleSwipeStart,a),r.addEventListener("touchmove",this.handleSwipeMove,a),r.addEventListener("touchend",this.handleSwipeEnd,a)}}},{key:"cleanupTouchListeners",value:function(){var e=this.props,t=e.element,i=e.target||t;i&&(i.removeEventListener("touchstart",this.handleSwipeStart),i.removeEventListener("touchmove",this.handleSwipeMove),i.removeEventListener("touchend",this.handleSwipeEnd))}},{key:"setupMouseListeners",value:function(){var e=this.props,t=e.element,i=e.mouseTrackingEnabled,n=e.preventTrackingOnMouseleave;i&&t&&(t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("mousemove",this.handleMouseMove),t.addEventListener("mouseup",this.handleMouseUp),n&&t.addEventListener("mouseleave",this.handleMouseLeave))}},{key:"cleanupMouseListeners",value:function(){var e=this.props.element;e&&(e.removeEventListener("mousedown",this.handleMouseDown),e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("mouseup",this.handleMouseUp),e.removeEventListener("mouseleave",this.handleMouseLeave))}},{key:"getEventData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{directionDelta:0},i=this.props.rotationAngle,n=t.directionDelta,r=s.calculateMovingPosition(e),o=s.rotateByAngle(r,i);return s.calculatePosition(this.state,{rotatePosition:o,directionDelta:n})}},{key:"handleSwipeStart",value:function(e){if(!s.checkIsMoreThanSingleTouches(e)){var t=this.props.rotationAngle,i=s.calculateMovingPosition(e),n=s.rotateByAngle(i,t),r=n.x,o=n.y;this.state=s.getInitialState({isSwiping:!1,start:Date.now(),x:r,y:o})}}},{key:"handleSwipeMove",value:function(e){var t=this.state,i=t.x,n=t.y,r=t.isSwiping;if(i&&n&&!s.checkIsMoreThanSingleTouches(e)){var o=this.getEventData(e),a=o.absX,l=o.absY,c=o.deltaX,d=o.deltaY,u=o.directionX,h=o.directionY,p=o.duration,y=o.velocity,m=this.props,g=m.delta,v=m.preventDefaultTouchmoveEvent,f=m.onSwipeStart,b=m.onSwiping;e.cancelable&&v&&e.preventDefault(),a<Number(g)&&l<Number(g)&&!r||(f&&!r&&f(e,{deltaX:c,deltaY:d,absX:a,absY:l,directionX:u,directionY:h,duration:p,velocity:y}),this.state.isSwiping=!0,b&&b(e,{deltaX:c,deltaY:d,absX:a,absY:l,directionX:u,directionY:h,duration:p,velocity:y}))}}},{key:"handleSwipeEnd",value:function(e){var t=this.props,i=t.onSwiped,n=t.onTap;if(this.state.isSwiping){var r=this.props.directionDelta||0,o=this.getEventData(e,{directionDelta:r});i&&i(e,o)}else{var a=this.getEventData(e);n&&n(e,a)}this.state=s.getInitialState()}},{key:"handleMouseDown",value:function(e){var t=this.props.target;t?t===e.target&&this.handleSwipeStart(e):this.handleSwipeStart(e)}},{key:"handleMouseMove",value:function(e){this.handleSwipeMove(e)}},{key:"handleMouseUp",value:function(e){var t=this.state.isSwiping,i=this.props.target;i?(i===e.target||t)&&this.handleSwipeEnd(e):this.handleSwipeEnd(e)}},{key:"handleMouseLeave",value:function(e){this.state.isSwiping&&this.handleSwipeEnd(e)}}])&&l(t.prototype,i),n&&l(t,n),e}();t.default=d},145:(e,t)=>{"use strict";var i,n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.Axis=t.Direction=t.TraceDirectionKey=void 0,t.TraceDirectionKey=i,function(e){e.NEGATIVE="NEGATIVE",e.POSITIVE="POSITIVE",e.NONE="NONE"}(i||(t.TraceDirectionKey=i={})),t.Direction=n,function(e){e.TOP="TOP",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM",e.NONE="NONE"}(n||(t.Direction=n={})),t.Axis=r,function(e){e.X="x",e.Y="y"}(r||(t.Axis=r={}))},394:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDirection=function(e){var t,i=n.TraceDirectionKey.NEGATIVE,r=n.TraceDirectionKey.POSITIVE,s=e[e.length-1],o=e[e.length-2]||0;if(e.every((function(e){return 0===e})))return n.TraceDirectionKey.NONE;t=s>o?r:i,0===s&&(t=o<0?r:i);return t};var n=i(145)},558:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDirectionDelta=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.length,s=i-1,o=n.TraceDirectionKey.NONE;s>=0;s--){var a=e[s],l=(0,r.getDirectionKey)(a),c=(0,r.getDirectionValue)(a[l]),d=e[s-1]||{},u=(0,r.getDirectionKey)(d),h=(0,r.getDirectionValue)(d[u]),p=(0,r.getDifference)(c,h);if(p>=t){o=l;break}o=u}return o};var n=i(145),r=i(387)},963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDuration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?t-e:0}},111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMovingPosition=function(e){if("changedTouches"in e){var t=e.changedTouches&&e.changedTouches[0];return{x:t&&t.clientX,y:t&&t.clientY}}return{x:e.clientX,y:e.clientY}}},405:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePosition=function(e,t){var i=e.start,n=e.x,o=e.y,a=e.traceX,l=e.traceY,c=t.rotatePosition,d=t.directionDelta,u=c.x-n,h=o-c.y,p=Math.abs(u),y=Math.abs(h);r.updateTrace(a,u),r.updateTrace(l,h);var m=r.resolveDirection(a,s.Axis.X,d),g=r.resolveDirection(l,s.Axis.Y,d),v=r.calculateDuration(i,Date.now()),f=r.calculateVelocity(p,y,v);return{absX:p,absY:y,deltaX:u,deltaY:h,directionX:m,directionY:g,duration:v,positionX:c.x,positionY:c.y,velocity:f}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}i.default=e,t&&t.set(e,i);return i}(i(387)),s=i(145);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}},658:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTraceDirections=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],i=n.TraceDirectionKey.POSITIVE,s=n.TraceDirectionKey.NEGATIVE,o=0,a=[],l=n.TraceDirectionKey.NONE;o<e.length;o++){var c=e[o],d=e[o-1];if(a.length){var u=c>d?i:s;l===n.TraceDirectionKey.NONE&&(l=u),u===l?a.push(c):(t.push(r({},l,a.slice())),(a=[]).push(c),l=u)}else 0!==c&&(l=c>0?i:s),a.push(c)}a.length&&t.push(r({},l,a));return t};var n=i(145);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateVelocity=function(e,t,i){return Math.sqrt(e*e+t*t)/(i||1)}},368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsMoreThanSingleTouches=void 0;t.checkIsMoreThanSingleTouches=function(e){return Boolean(e.touches&&e.touches.length>1)}},566:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsPassiveSupported=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={isPassiveSupported:e};try{var i=(0,n.createOptions)(t);window.addEventListener("checkIsPassiveSupported",r,i),window.removeEventListener("checkIsPassiveSupported",r,i)}catch(e){}return t.isPassiveSupported},t.noop=void 0;var n=i(890);var r=function(){};t.noop=r},309:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAxisDirection=t.getDifference=t.getDirectionValue=t.getDirectionKey=void 0;var n=i(145);t.getDirectionKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).toString();switch(t){case n.TraceDirectionKey.POSITIVE:return n.TraceDirectionKey.POSITIVE;case n.TraceDirectionKey.NEGATIVE:return n.TraceDirectionKey.NEGATIVE;default:return n.TraceDirectionKey.NONE}};t.getDirectionValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[e.length-1]||0};t.getDifference=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.abs(e-t)};t.resolveAxisDirection=function(e,t){var i=n.Direction.LEFT,r=n.Direction.RIGHT,s=n.Direction.NONE;return e===n.Axis.Y&&(i=n.Direction.BOTTOM,r=n.Direction.TOP),t===n.TraceDirectionKey.NEGATIVE&&(s=i),t===n.TraceDirectionKey.POSITIVE&&(s=r),s}},890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.defineProperty(e,"passive",{get:function(){return this.isPassiveSupported=!0,!0},enumerable:!0}),e}},950:(e,t)=>{"use strict";function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialProps=void 0;t.getInitialProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n({element:null,delta:10,directionDelta:0,rotationAngle:0,mouseTrackingEnabled:!1,touchTrackingEnabled:!0,preventDefaultTouchmoveEvent:!1,preventTrackingOnMouseleave:!1},e)}},521:(e,t)=>{"use strict";function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getInitialState=void 0;t.getInitialState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n({x:0,y:0,start:0,isSwiping:!1,traceX:[],traceY:[]},e)}},662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return{passive:!1};return{}}},387:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(394);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}));var r=i(558);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var s=i(963);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var o=i(111);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=i(405);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var l=i(658);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var c=i(787);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var d=i(368);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}));var u=i(566);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var h=i(309);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})}));var p=i(890);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}));var y=i(521);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})}));var m=i(950);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})}));var g=i(662);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})}));var v=i(315);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})}));var f=i(953);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}));var b=i(958);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})}))},315:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Axis.X,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i){var n=r.calculateTraceDirections(e),o=r.calculateDirectionDelta(n,i);return r.resolveAxisDirection(t,o)}var a=r.calculateDirection(e);return r.resolveAxisDirection(t,a)};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}i.default=e,t&&t.set(e,i);return i}(i(387)),s=i(145);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}},953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rotateByAngle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t)return e;var i=e.x,n=e.y,r=Math.PI/180*t,s=i*Math.cos(r)+n*Math.sin(r),o=n*Math.cos(r)-i*Math.sin(r);return{x:s,y:o}}},958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTrace=function(e,t){e[e.length-1]!==t&&e.push(t);return e}},124:(e,t,i)=>{"use strict";function n(e,t,i){var n=i.offset,r=i.dimensions;return t.style.left=function(e,t,i){return e?window.innerWidth-i-20>t?i+20:window.innerWidth>t?window.innerWidth-t:0:t<i-20?i-t-20:0}(e,t.clientWidth,n.x)+"px",t.style.top=function(e,t){var i=window.innerHeight;if(t.y>=i)return 0;var n=e.y/i*100;return i/100*(n=n>100?100:n)-t.y/100*n}(n,r)+"px",!1}function r(){return this.data.force?(this.data.extension=this.data.force.extension,this.data.force.type):(this.data.extension=this.data.src.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","ico","svg","bmp","webp"].includes(this.data.extension)?0:["webm","mp4","ogg","ogv"].includes(this.data.extension)?1:null)}function s(e){return this.options.encodeAll?encodeURI(e).replace("#","%23").replace("?","%3F"):encodeURI(e)}function o(e){return void 0!==e.webkitAudioDecodedByteCount?e.webkitAudioDecodedByteCount>0:void 0!==e.mozHasAudio?!!e.mozHasAudio:void 0!==e.audioTracks&&!(!e.audioTracks||!e.audioTracks.length)}function a(e,t){var i=this,n=document.createElement("img");this.currentElement=n,n.style["max-width"]="inherit",n.style["max-height"]="inherit",n.src=s.call(i,e),i.timers.load=setInterval((function(){if(i.active){var e=n.naturalWidth,r=n.naturalHeight;if(e&&r){if(i.data.on.hasOwnProperty("onLoaded"))try{i.data.on.onLoaded({loaded:!0,type:"IMAGE",audible:!1,element:n})}catch(e){console.error(e)}clearInterval(i.timers.load),t(n,[e,r])}}else t(!1)}),30)}function l(e,t){var i=this,n=document.createElement("video"),r=n.appendChild(document.createElement("source"));this.currentElement=n,["muted","loop","autoplay"].forEach((e=>{n[e]=!0})),r.type="video/"+("ogv"===this.data.extension?"ogg":this.data.extension),r.src=s.call(this,e),n.style["max-width"]="inherit",n.style["max-height"]="inherit",n.onloadeddata=function(){if(i.active){if(i.data.on.hasOwnProperty("onLoaded"))try{i.data.on.onLoaded({loaded:!0,type:"VIDEO",audible:o(n),element:n})}catch(e){console.error(e)}}else t(!1)},n.onloadedmetadata=function(){i.active?t(n,[this.videoWidth,this.videoHeight]):t(!1)}}function c(e){this.data.offset={x:e.clientX,y:e.clientY}}function d(e){var t=e.target;if(Object.prototype.hasOwnProperty.call(this.options,"source")&&this.options.source?this.data.src=this.options.source:t.hasAttribute("data-src")?this.data.src=t.getAttribute("data-src"):t.hasAttribute("src")?this.data.src=t.getAttribute("src"):t.hasAttribute("href")&&(this.data.src=t.getAttribute("href")),null===this.data.src)throw Error("No valid source value found.");if(this.data.type=r.call(this),null!=this.data.type){var i=this;this.data.left=this.data.offset.x<=window.innerWidth/2;var n=function(){var e=document.createElement("div");e.className="preview-container";var t={"pointer-events":"none",position:"fixed",visibility:"hidden","z-index":"9999",top:"-9999px",left:"-9999px","max-width":"100vw","max-height":"100vh"};return Object.keys(t).forEach((i=>{e.style[i]=t[i]})),e}();document.body.prepend(n),this.options.cursor&&null===this.data.cursor&&(this.data.cursor=t.style.cursor,t.style.cursor="progress"),0!==this.data.type&&1!==this.data.type||(0===this.data.type?a:l).call(this,this.data.src,(function(e,r){e?(n.appendChild(e),i.data.container=n,i.data.dimensions={x:r[0],y:r[1]},i.loaded=!0,u.call(i),n.style.visibility="visible",i.options.cursor&&(t.style.cursor=i.data.cursor?i.data.cursor:"")):i.options.cursor&&(t.style.cursor=i.data.cursor?i.data.cursor:"")}))}}function u(){this.updater(this.data.left,this.data.container,{dimensions:this.data.dimensions,offset:{x:this.data.offset.x,y:this.data.offset.y}})}function h(e){if(c.call(this,e),!this.loaded)return!1;u.call(this)}function p(e){this.active=!0;var t=parseInt(this.id),i=this;c.call(this,e),this.options.delay&&this.options.delay>0?this.timers.delay=setTimeout((function(){i.active&&t===i.id&&d.call(i,e)}),this.options.delay):d.call(i,e)}function y(e){this.active=!1,this.id++,this.currentElement&&("VIDEO"===this.currentElement.tagName&&(this.currentElement.pause(),this.currentElement.muted=!0,this.currentElement.onloadeddata=()=>{},this.currentElement.onloadedmetadata=()=>{}),this.currentElement.remove()),this.options.cursor&&"progress"===e.target.style.cursor&&(e.target.style.cursor=this.data.cursor?this.data.cursor:"",this.data.cursor=null);var t=document.querySelector(".preview-container");if(t&&t.remove(),clearTimeout(this.timers.delay),clearInterval(this.timers.load),this.loaded=!1,this.data.on.hasOwnProperty("onLoaded"))try{this.data.on.onLoaded({loaded:!1,type:null,audible:!1,element:null})}catch(e){console.error(e)}}const m={delay:75,encodeAll:!1,cursor:!0,force:null};class g{constructor(e,t={}){if(!e)throw Error("No element were passed.");this.element=e,this.options=t,v.call(this)}reload(){this.destroy(),v.call(this)}destroy(){const e=this.events;this.handle.removeEventListener("mouseenter",e.mouseenter,!1),this.handle.removeEventListener("mouseleave",e.mouseleave,!1),this.handle.removeEventListener("mousemove",e.mousemove,!1)}}function v(){this.options={...m,...this.options},this.data={cursor:null,left:null,src:null,type:null,offset:null,dimensions:null,force:null},this.data.on=new Object,"object"==typeof this.options.on&&null!==this.options.on&&(this.data.on=this.options.on),this.options.force&&(this.data.force=this.options.force),this.timers={load:null,delay:null},this.handle=this.element,this.updater=window.requestAnimationFrame?function(e,t,i){window.requestAnimationFrame((function(){n(e,t,i)}))}:function(e,t,i){n(e,t,i)},this.events={mouseenter:p.bind(this),mouseleave:y.bind(this),mousemove:h.bind(this)},this.active=!1,this.id=0,this.handle.addEventListener("mouseleave",this.events.mouseleave,!1),this.handle.addEventListener("mouseenter",this.events.mouseenter,!1),this.handle.addEventListener("mousemove",this.events.mousemove,!1)}var f=i(808),b=i.n(f),w=(i(729),i(375));const O=new Object,S=new Object;O.init=()=>{O.data=JSON.parse(document.getElementById("__INDEXER_DATA__").innerHTML),O.data.mobile=Modernizr.mq("(max-width: 640px)")},O.isMobile=()=>O.data.mobile,O.exists=e=>(0,w.checkNestedPath)(O.data,e),O.set=(e,t)=>(0,w.setNestedPath)(O.data,e,t),O.get=e=>(0,w.getNestedPath)(O.data,e,null),S.set=(e,t=new Object)=>{t=Object.assign({sameSite:"lax",expires:365},t),b().set("ei-client",JSON.stringify(e),t)},S.getDefaults=()=>{let e=new Object;return e.gallery={reverseOptions:O.data.gallery.reverseOptions,listAlignment:O.data.gallery.listAlignment,fitContent:O.data.gallery.fitContent},e.gallery.autoplay=!0,e.gallery.volume=.25,e.gallery.style={compact:O.data.style.compact,theme:!1},e},S.get=()=>{let e=["gallery","sort","style"],t=S.getDefaults(),i=new Object,n=!1;try{i=JSON.parse(b().get("ei-client")),e.forEach((e=>{Object.prototype.hasOwnProperty.call(i,e)||(i[e]=Object.prototype.hasOwnProperty.call(t,e)?t[e]:new Object)})),Object.keys(t).forEach((e=>{Object.keys(t[e]).forEach((r=>{Object.prototype.hasOwnProperty.call(i[e],r)||(i[e][r]=t[e][r],n=!0)}))})),n&&S.set(i)}catch(n){i=new Object,O.data.style.themes.set&&(t.style||(t.style=new Object),t.style.theme=O.data.style.themes.set),e.forEach((e=>{i[e]=new Object})),S.set(Object.assign(i,t))}return i},O.init(),S.get();const E=new Object;E.USE_ASSIGNED_DOM_ID=Symbol(!0),E.ERROR_VIDEO_ID=Symbol("videoError"),E.ERROR_SOURCE_ID=Symbol("sourceError"),E.STORAGE_KEY="indexer";const x=JSON.parse('{"settingsLabels":{"stylingCompact":{"text":"Compact Style","description":"Set the page to use a more compact style."},"galleryListAlignment":{"text":"List Alignment"},"galleryReverseSearch":{"text":"Reverse Search","description":"Toggle the visibility of reverse search options on images."},"galleryVideoAutoplay":{"text":"Autoplay Videos","description":"Toggle the autoplaying of videos."},"galleryFitContent":{"text":"Fit Content","description":"Force images and videos to fill the screen."}},"menuLabels":{"filter":{"text":"[Show] Filter"},"wget":{"text":"[Copy] WGET"},"gallery":{"text":"[Open] Gallery"},"settings":{"text":"[Open] Settings"}},"reverseSearch":{"Google":"https://www.google.com/searchbyimage?image_url={URL}&safe=off","Yandex":"https://yandex.com/images/search?rpt=imageview&url={URL}","Bing":"https://bing.com/images/search?q=imgurl:{URL}&view=detailv2&iss=sbi#enterInsights","SauceNAO":"https://saucenao.com/search.php?url={URL}"}}'),T=new Object;T.storageKey=E.STORAGE_KEY,T.text=x,T.scrollLock=!1,T.sets=new Object,T.sets.preview=new Object,T.sets.defaults=new Object,T.sets.selection=new Object,T.sets.selected=null,T.sets.refresh=!1,T.components=new Object,T.layer=new Object,T.instances=new Object,T.instances.optimize={main:{enabled:!1},gallery:{enabled:!1}},T.keys={escape:27,pageUp:33,pageDown:34,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40,f:70,g:71,l:76},T.preview=new Object,T.preview.volume=0,T.preview.data=null,!1===O.get("mobile")&&!0===O.get("preview.enabled")&&(T.preview.volume=localStorage.getItem(`${T.storageKey}.previewVolume`),null!==T.preview.volume&&T.preview.volume>=0?T.preview.volume=parseInt(T.preview.volume):(T.preview.volume=10,localStorage.setItem(`${T.storageKey}.previewVolume`,10))),T.instances.selector=new class{constructor(){return this.data=new Object,this.init(),this}init=()=>{let e=new Object;e.FILTER_INPUT=':scope > div.filter-container > input[type="text"]',e.TOP_EXTEND=":scope > div.top-bar > div.extend",e.TABLE_CONTAINER=":scope > div.table-container",e.TABLE=":scope > div.table-container > table",e.PATH=":scope > div.path",Object.keys(e).forEach((t=>{this.define(e[t],t)})),this.define("BODY","body",document)};define=(e,t=null,i=null)=>{let n=(i||document.body).querySelector(e),r=t||e;(0,w.isString)(r)&&(r=r.toUpperCase()),this.data[r]=n};use=e=>{if((0,w.isString)(e)&&(e=e.toUpperCase()),!this.data.hasOwnProperty(e)){let t=document.body.querySelector(e);if(!t)return!1;this.data[e]=t}return this.data[e]}},T.instances.pipe=new w.logger(O.get("debug")).pipe;const k={data:new Object,insert:(e,t)=>(k.data.hasOwnProperty(e)?k.data[e].hasOwnProperty(t)||(k.data[e][t]=new Object):(k.data[e]=new Object,k.data[e][t]=new Object),k.data[e]),assignId:(e,t,i)=>{if(i===E.USE_ASSIGNED_DOM_ID){if(!Number.isInteger(e.domId))throw new Error("No assigned ID was found.");i=e.domId}else i=i||(Array.isArray(t)?t[0]:t);return i},addListener:(e,t,i,n,r=0)=>{if(!e||!t||!n)throw new Error("Unset arguments.");(0,w.isString)(e)&&(e=document.body.querySelector(e)),i=k.assignId(e,t,i),t=Array.isArray(t)?t:t.split();let s=k.insert(i,r);return s[r].callback&&(t.forEach((t=>{e.removeEventListener(t,s[r].callback,!0)})),delete s[r].callback),s[r].callback=n,t.forEach((t=>{e.addEventListener(t,s[r].callback,!0)})),s},removeListener:(e,t,i,n=0)=>{if(!e||!t)throw new Error("Unset arguments.");if((0,w.isString)(e)&&(e=document.body.querySelector(e)),i=k.assignId(e,t,i),!k.data.hasOwnProperty(i))return!1;let r=0,s=k.data[i];return s[n].callback&&((Array.isArray(t)?t:t.split(".")).forEach((t=>{e.removeEventListener(t,s[n].callback,!0),r++})),s[n].callback=null),delete k.data[i],r}},j=T.instances.pipe;class A{constructor(e){return this.init(e),this}init=e=>{this.page=e.page,this.table=e.table,this.scope=e.scope,this.padding=e.padding||0,e.hasOwnProperty("on")?this.on=e.on:this.on=!1,this.enabled=!1,this.setup()};setup=()=>{j("->","optimize.setup");let e=this.table,t=e.offsetHeight,i=e.querySelectorAll("tbody > tr"),n=i[0].offsetHeight,r=new Object;this.tableOffsetBegin=i[0].offsetTop;let s=performance.now();for(let e=0;e<i.length;e++)i[e]._offsetTop=i[e].offsetTop+this.padding,i[e]._offsetHeight=i[e]._offsetHeight||i[e].offsetHeight,i[e]._isVisible=!0;this.on&&this.on.hasOwnProperty("rowChange")&&this.on.rowChange(i),this.rows=Array.from(i),j(`Calculated rows in ${performance.now()-s} ms.`),w.dom.css.set(e,{height:`${t}px`});for(let e=0;e<i.length;e++)r[i[e]._offsetTop]={index:e};this.structure=r;let o=0,a=e.getBoundingClientRect().top,l=Math.ceil(this.page.scrolledY-(a+this.page.scrolledY)+this.page.windowHeight/2),c=Math.ceil(2*Math.ceil(this.page.windowHeight/n)),[d,u]=this.getActiveData();o=this.scanForClosest(l,1e3,o);let[h,p]=this.calculateRange(o,c);for(let e=0;e<i.length;e++){let t=i[e],n=["rel-row"];e>=h&&e<=p||n.push("hid-row"),t.classList.add(...n),t.style.top=`${t._offsetTop}px`}return this.table=e,this.rowHeight=n,this.initiated=!0,this.enabled=!0,this.activeHasChanged=!0,this.attemptRefresh(),this.initiated};refactor=()=>{let e=performance.now();j("->","optimize.refactor");let t=this.table,i=this.tableOffsetBegin+this.padding,n=new Object,r=new Object,s=0;for(let e=0;e<this.rows.length;e++){let t=this.rows[e];t._isVisible&&(n[i]={index:e},r[e]=i,i+=t._offsetHeight,s=t._offsetHeight)}s>0&&(i-=s),i+=this.padding,this.structure=n,this.activeHasChanged=!0,this.page.scrolledY=this.scope[0][this.scope[1]];let o=0,a=t.getBoundingClientRect().top,l=Math.ceil(this.page.scrolledY-(a+this.page.scrolledY)+this.page.windowHeight/2),c=Math.ceil(2*Math.ceil(this.page.windowHeight/this.rowHeight)),[d,u]=this.getActiveData();o=this.scanForClosest(l,1e3,o),o=this.getRelativeIndex(u,o)||o;let[h,p]=this.calculateRange(o,c);for(let e=0;e<d.length;e++)e>=h&&e<=p&&(d[e].style.display="block");for(let e=0;e<this.rows.length;e++){let t=this.rows[e];t._isVisible?(t.style.top=`${r[e]}px`):(t.style.top="-2500px")}return this.on&&this.on.hasOwnProperty("rowChange")&&this.on.rowChange(d),t.style.height=`${i+6}px`,j(`Ran refactor in ${performance.now()-e} ms.`),this.refresh(),!0};setVisibleFlag=(e,t)=>(e._isVisible=t,this.activeHasChanged=!0,t);sortLogic=(e,t,i)=>(0,w.isNumeric)(t.value)&&(0,w.isNumeric)(i.value)?e?t.value-i.value:i.value-t.value:(e?t.value||"":i.value||"").localeCompare(e?i.value||"":t.value||"");sortRows=(e=0,t="asc")=>{t="asc"===t.toLowerCase()?1:0;let i=new Array,n=new Array,r=new Array,s=performance.now();for(let t=0;t<this.rows.length;t++){if(0===t)continue;let i=this.rows[t],s=i.children[e].getAttribute("data-raw"),o=i.classList.contains("directory");(s&&!o?n:r).push({value:s,index:t})}[n,r].forEach((e=>e.sort(((e,i)=>this.sortLogic(t,e,i))))),n.unshift(...r);for(let e=0;e<n.length;e++)i.push(this.rows[n[e].index]);return i.unshift(this.rows[0]),this.rows=i,this.refactor(),j(`Sorted items in ${performance.now()-s} ms.`),this.rows};calculateRange=(e,t)=>{let i=e-t,n=i<0?i:0;return i=i<0?0:i,[i,i+2*t+n]};getActiveData=()=>{if(this.activeHasChanged||!this.activeData){j("Updating active data ..");let e=new Array,t=new Object;for(let i=0;i<this.rows.length;i++)this.rows[i]._isVisible&&(e.push(this.rows[i]),t[i]=i);this.activeData=[e,t],this.activeHasChanged=!1}return this.activeData};scanForClosest=(e,t,i=null)=>{let n=i;for(let i=0;i<(t||1e3);i++)if(this.structure[e+i]){n=this.structure[e+i].index;break}return n};getRelativeIndex=(e,t)=>{let i=Object.keys(e),n=null;for(let e=0;e<i.length;e++)parseInt(i[e])===t&&(n=e);return n};setRows=(e,t,i)=>{let n=0,r=0,s=0,[o,a]=this.calculateRange(e,i),l={show:new Array,hide:new Array};for(let e=0;e<t.length;e++){let i=t[e];e>=o&&e<=a?(i._isHidden&&(n++,l.show.push(i)),r++):(i._isHidden||(n++,l.hide.push(i)),s++)}return requestAnimationFrame((()=>{l.show.forEach((e=>{e.classList.remove("hid-row"),e._isHidden=!1})),l.hide.forEach((e=>{e.classList.add("hid-row"),e._isHidden=!0}))})),j({visible:r,hidden:s,updated:n}),{visible:r,hidden:s,updated:n}};refresh=(e=0)=>{if(!this.initiated)return new Promise(((e,t)=>t("Not initiated.")));let t=performance.now();j("->","optimize.refresh"),this.page.scrolledY=this.scope[0][this.scope[1]];let i=this.table.getBoundingClientRect().top,n=Math.ceil(this.page.scrolledY-(i+this.page.scrolledY)+this.page.windowHeight/2);return new Promise(((i,r)=>{let s=0,o=Math.ceil(2*Math.ceil(this.page.windowHeight/this.rowHeight)),[a,l]=this.getActiveData();s=this.scanForClosest(n,1e3,s),s=this.getRelativeIndex(l,s)||s,s>=0&&o?setTimeout((()=>{this.setRows(s,a,o),j(`Ran refresh in ${performance.now()-t} ms.`),i(e)}),0):r()}))};attemptRefresh=()=>{this.refreshId=this.refreshId||0,this.refreshId++,this.refreshing||(this.refreshing=!0,this.refresh(this.refreshId).then((e=>{this.refreshing=!1,log.pipe("Refreshed",e)})).catch((()=>{this.refreshing=!1})))}}var L=i(866),D=i.n(L);class M{constructor(e,t){return this.data=new Object,this}listen=(e,t)=>{this.data.hasOwnProperty(e)||(this.data[e]=new Array),this.data[e].push(t)};dispute=e=>{this.data.hasOwnProperty(e)&&(this.data[e]=new Array,delete this.data[e])};dispatch=(e,t=null)=>!!this.data.hasOwnProperty(e)&&(this.data[e].forEach((e=>{e(t)})),!0)}const P=T.instances.pipe;class _{constructor(e,t){t=t||new Object;let i=this.setDefaults();return Object.keys(i).forEach((e=>{t.hasOwnProperty(e)||(t[e]=i[e])})),this.options=t,this.pipe=this.options.pipe,this.emitter=new M,this.init(e),this}listen=(e,t)=>{this.emitter.listen(e,t)};setDefaults=()=>{let e=new Object;return e.extensions={image:["jpg","jpeg","gif","png","ico","svg","bmp","webp"],video:["mp4","webm","ogv","ogg"]},e.list={show:!0,reverse:!1},e.video={video:null},e.performance=!1,e.autoplay=!0,e.volume=0,e.console=!0,e.reverseOptions=!0,e.blur=!0,e.sharpen=!0,e.mobile=!1,e.fitContent=!1,e.encodeAll=!1,e.scrollInterval=35,e.start=0,e.listAlignment=0,this.defaults=e,this.defaults};init=e=>{if(this.data=new Object,this.data.busy=!1,this.data.scrollBar={width:this.getScrollbarWidth(),widthForced:this.getDocumentHeight<=window.innerHeight},this.data.scrollbreak=!1,this.data.keyPrevent=[T.keys.pageUp,T.keys.pageDown,T.keys.arrowLeft,T.keys.arrowUp,T.keys.arrowRight,T.keys.arrowDown],this.data.selected={src:null,ext:null,index:null,type:null},this.container=document.body.querySelector(":scope > div.gallery-root"),this.items=this.options.filter?this.filterItems(e):e,0===this.items.length)return!1;this.exists()?this.show(!0):this.initiate((()=>{this.bind(),this.options.blur&&this.apply.blur()}));let t=this.options.start>this.items.length-1?this.items.length-1:this.options.start;this.navigate(t),this.options.performance&&this.useOptimzer(this.table),this.options.list.show&&!this.options.mobile||(this.list.style.display="none")};loadImage=e=>new Promise(((t,i)=>{let n=document.createElement("img");n.src=e,n.addEventListener("error",(t=>{i(new Error(`failed to load image URL: ${e}`))}));let r=setInterval((()=>{let i=n.naturalWidth,s=n.naturalHeight;i&&s&&(clearInterval(r),t([e,n,[i,s]]))}),30)}));encodeUrl=e=>{let t=encodeURI(e);return this.options.encodeAll&&(t=t.replace("#","%23").replace("?","%3F")),t};getExtension=e=>e.split(".").pop().toLowerCase();isImage=(e,t=null)=>this.options.extensions.image.includes(t||this.getExtension(e));isVideo=(e,t=null)=>this.options.extensions.video.includes(t||this.getExtension(e));filterItems=e=>e.filter((e=>this.isImage(e.name)||this.isVideo(e.name)));getDocumentHeight=()=>{let e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)};getScrollbarWidth=(e=!1)=>{if(!e&&this.getDocumentHeight<=window.innerHeight)return 0;let t=document.createElement("div");w.dom.css.set(t,{visibility:"hidden",overflow:"scroll",msOverflowStyle:"scrollbar"}),document.body.appendChild(t);let i=document.createElement("div");t.appendChild(i);let n=t.offsetWidth-i.offsetWidth;return t.parentNode.removeChild(t),n};limitBody=(e=!0)=>{let t=document.body,i=document.documentElement,n=this.data.scrollBar.width;!0===e?(document.documentElement.setAttribute("gallery-is-visible",""),this.data.body={"max-height":t.style["max-height"],overflow:t.style.overflow},n>0&&w.dom.css.set(i,{"padding-right":n+"px"}),w.dom.css.set(t,{"max-height":"calc(100vh - var(--height-gallery-top-bar))",overflow:"hidden"})):(document.documentElement.removeAttribute("gallery-is-visible"),Object.prototype.hasOwnProperty.call(this.data,"body")&&w.dom.css.set(t,{"max-height":this.data.body["max-height"],overflow:this.data.body.overflow}),w.dom.css.set(i,{"padding-right":"unset"}))};exists=()=>(this.container=document.body.querySelector(":scope > div.gallery-root"),!!this.container);show=(e=!0,t=null,i=null)=>{if(i&&(this.pipe("itemsUpdate",!0),this.data.selected.index=null,this.items=this.options.filter?this.filterItems(i):i,this.populateTable(this.items)),!0===e){if(this.bind().style.display="block",t!==this.data.selected.index){this.container.querySelectorAll(":scope > div.gallery-content > div.media > div.wrapper img, \t\t\t\t\t:scope > div.gallery-content > div.media > div.wrapper video").forEach((e=>{e.style.display="none"})),this.navigate(t),i&&this.options.performance&&this.useOptimzer(this.table)}}else this.unbind(this.data.bound),this.container.style.display="none";this.options.blur&&this.apply.blur(e),this.limitBody(e);let n=this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper video");this.container.querySelector(":scope > div.gallery-content > div.list > table");if(n)if(!0===e&&"none"!==n.style.display){let e=n.currentTime,t=!1;this.options.continue.video&&this.options.continue.video.hasOwnProperty("src")&&(t=n.querySelector("source").getAttribute("src")==this.options.continue.video.src),this.options.continue.video&&t&&(e=this.options.continue.video.time,this.options.continue.video=null),n.currentTime=e,n.muted=!1,n[this.options.autoplay?"play":"pause"](),this.video.setVolume(n,this.video.getVolume())}else!1===e&&n.pause()};busy=e=>{if(void 0!==e){this.data.busy=e;let t=this.container.querySelector(":scope > div.gallery-content > div.media > div.spinner");e?w.dom.css.set(t,{opacity:1}):t.style.opacity=0}return this.data.busy};useOptimzer=e=>{this.optimize&&(delete this.optimize,k.removeListener(this.list,"scroll","galleryTableScroll"),w.dom.css.set(this.table,{height:"auto"}));const t={update:()=>(t.windowHeight=window.innerHeight,t.windowWidth=window.innerWidth,t.scrolledY=window.scrollY,!0)};T.layer.gallery=t,t.scope=e,t.update=()=>(t.windowHeight=window.innerHeight,t.windowWidth=window.innerWidth,t.scrolledY=this.list.scrollTop,!0),t.update(),this.page=t,this.optimize=new A({pipe:this.pipe,page:t,table:e,scope:[this.list,"scrollTop"]}),k.removeListener(window,"resize","windowGalleryResize"),k.addListener(window,"resize","windowGalleryResize",(0,w.debounce)((()=>{this.options.performance&&this.optimize.enabled&&(P("windowResize (gallery)","Resized."),t.update())})));let i=null;return k.addListener(this.list,"scroll","galleryTableScroll",(e=>{if(this.options.performance&&this.optimize.enabled){let e=this.list.scrollTop;Math.abs(e-this.page.scrolledY)>175&&this.optimize.attemptRefresh(),clearTimeout(i),i=setTimeout((()=>{this.optimize.attemptRefresh()}),150)}})),this.optimize};populateTable=(e,t)=>{this.pipe("Populating gallery list .."),t=t||this.container.querySelector("div.gallery-content > div.list > table");let i=new Array;for(let t=0;t<=e.length-1;t++)i[t]=`<tr title="${e[t].name}"><td>${e[t].name}</td></tr>`;return t.innerHTML=i.join(""),this.list=this.container.querySelector("div.gallery-content > div.list"),this.table=t,t};update={listWidth:e=>{e=e||this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper");let t=this.data.list?this.data.list:this.container.querySelector(":scope > div.gallery-content > div.list"),i=this.options.mobile||!t||"none"===t.style.display?0:t.offsetWidth;e.style.setProperty("--width-list",`${i}px`)}};getReverseOptions=e=>{e=this.encodeUrl(document.location.origin+e);let t=new Object;return Object.keys(T.text.reverseSearch).forEach((i=>{t[i]=T.text.reverseSearch[i].replace("{URL}",e)})),t};reverse=e=>{if(!this.options.reverseOptions)return!1;let t=this.container.querySelector(":scope > div.gallery-content > div.media .reverse");if(!t){let i=w.dom.new("div",{class:"reverse"});e.prepend(i),t=i}let i=this.getReverseOptions(this.data.selected.src);t.innerHTML=Object.keys(i).map((e=>`<a class="reverse-link" target="_blank" href="${i[e]}">${e}</a>`)).join(""),this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper > div.cover").append(t)};shortenString=(e,t)=>(t=t||28,e.length>t?[e.substr(0,Math.floor(t/2-2)),e.substr(e.length-Math.floor(t/2-2),e.length)].join(" .. "):e);apply={cache:{info:null},timers:{dimensions:null},itemDimensions:e=>{let t=this.items[e],i=this.container.querySelector("div.media > div.item-info-static");t.hasOwnProperty("dimensions")&&t.dimensions.height>0&&t.dimensions.width>0?(i||(i=w.dom.new("div",{class:"item-info-static"}),this.container.querySelector("div.media").appendChild(i)),i.style.opacity=1,i.style.display="inline-block",i.textContent=`${t.dimensions.width} x ${t.dimensions.height} (${t.size})`):i&&(i.style.display="none"),clearTimeout(this.apply.timers.dimensions),this.apply.timers.dimensions=setTimeout((()=>{i.style.opacity=0}),3e3)},itemInfo:(e,t=null,i=null,n=null)=>{if(!e)return this.apply.cache.info=[t,i,n],!1;if(Array.isArray(this.apply.cache.info))[t,i,n]=this.apply.cache.info;else if(null===t||null===i||null===n)return!1;let r=this.container.querySelector(".gallery-bar > .gallery-bar__right > a.download"),s=this.container.querySelector(":scope > div.gallery-bar > div.gallery-bar__left"),o=this.options.mobile?this.shortenString(t.name,30):t.name,a=this.encodeUrl(t.url);return w.dom.attributes.set(r,{filename:t.name,href:a,title:`Download: ${t.name}`}),s.innerHTML=`<span>${i+1} of ${n}</span>`,s.innerHTML+=`<a target="_blank" href="${a}">${o}</a>`,t.hasOwnProperty("size")&&!this.options.mobile&&(s.innerHTML+=`<span>${t.size}</span>`),!0},blur:(e=!0)=>{if(!0===e){this.data.blurred=new Array;let e=[".gallery-root","script","noscript","style"];document.body.querySelectorAll(`:scope > div${e.map((e=>`:not(${e})`)).join("")}`).forEach((e=>{e.classList.add("blur"),this.data.blurred.push(e)}))}else Object.prototype.hasOwnProperty.call(this.data,"blurred")&&this.data.blurred.forEach((e=>{e.classList.remove("blur","ns")}));return this}};isScrolledIntoView=(e,t)=>{let i={scrolled:e.scrollTop,height:e.offsetHeight},n={offset:t.offsetTop,height:t.children[0].offsetHeight};return P("-> isScrolledIntoView ->",i,n),n.offset>=i.scrolled&&n.offset+n.height<=i.scrolled+i.height};calculateIndex=(e,t,i)=>{let n=e+t;return n>i&&(n=n-i-1),n<0&&(n=i-(Math.abs(n)-1)),n<0||n>i?this.calculateIndex(e,i-n,i):n};video={create:e=>{let t=w.dom.new("video",{controls:"",preload:"none",loop:""}),i=w.dom.new("source",{type:`video/${"ogv"===e?"ogg":e}`,src:""});return t.append(i),this.video.setVolume(t,this.video.getVolume()),[t,i]},getVolume:()=>{let e=parseFloat(this.options.volume);return e=isNaN(e)||e<0||e>1?0:e,e},setVolume:(e,t)=>(t>0?e.volume=t>=1?1:t:e.muted=!0,t),seek:e=>{let t=this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper video");if(t){let i=Math.round(t.currentTime),n=Math.round(t.duration);if(e>0){if(i+e>n)return!0;t.currentTime=i+e}else if(e<0){if(i+e<0)return!0;t.currentTime=i+e}return!1}}};showItem=(e,t,i,n,r,s=null)=>{this.pipe("showItem",e,t,i,n,r,s);let o=this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper"),a=null,l=null,c=!1,d=t=>{this.container.querySelectorAll(":scope > \t\t\t\tdiv.gallery-content > div.media > div.wrapper > div:not(.cover)").forEach((e=>{e&&e.remove()})),this.apply.itemInfo(!0),this.data.selected.type=e;o.style.display="",t&&t(),(()=>{let t=o.querySelector(0===e?"video":"img");t&&1===e&&(t.closest(".cover").style.display="none"),t&&(t.style.display="none")})(),this.busy(!1)};(()=>{if(0===e)a=o.querySelector("video"),this.items[r].dimensions={height:s.img.height,width:s.img.width},this.apply.itemDimensions(r),d((()=>{if(this.options.sharpen&&t.setAttribute("sharpened",""),t.onload=()=>{if(this.options.fitContent){let e=`calc(calc(100vw - var(--width-list)) / ${(s.img.width/s.img.height).toFixed(4)})`;this.update.listWidth(o),w.dom.css.set(t,{width:"auto",height:e}),w.dom.css.set(t.closest(".cover"),{height:e})}},t.setAttribute("src",i),t.style.display="inline-block",t.closest(".cover").style.display="",a){let e=a.querySelector("source");a.pause(),e.setAttribute("src",""),k.removeListener(a,"error",E.ERROR_VIDEO_ID),k.removeListener(e,"error",E.ERROR_SOURCE_ID)}}));else if(1===e){!1===n?([a,l]=this.video.create(this.data.selected.ext),o.append(a)):(l=t.querySelector("source"),a=t),l.setAttribute("src",i);let e=e=>{console.error("Failed to load video source.",e),this.busy(!1)};k.addListener(a,"error",E.ERROR_VIDEO_ID,(t=>{e(t)})),k.addListener(l,"error",E.ERROR_SOURCE_ID,(t=>{e(t)})),k.addListener(a,["volumechange"],null,(e=>{this.options.volume=a.muted?0:parseFloat(parseFloat(a.volume).toFixed(2)),this.emitter.dispatch("volumeChange",this.options.volume)})),k.addListener(a,["canplay","canplaythrough"],null,(e=>{if(c)return!1;let i=a.videoHeight,s=a.videoWidth;this.items[r].dimensions={height:i,width:s},this.apply.itemDimensions(r),d((()=>{this.options.fitContent&&(this.update.listWidth(o),w.dom.css.set(a,{width:"auto",height:`calc(calc(100vw - var(--width-list)) / ${(s/i).toFixed(4)})`})),this.options.volume&&(a.volume=this.options.volume),this.options.autoplay&&a.play(),a.style.display="inline-block","none"===this.container.display&&(this.container.querySelector("div.gallery-content .media div.spinner").style.opacity=0,a.pause()),!1===n&&t.remove(),c=!0}))})),a.load(),this.options.continue.video&&i==this.options.continue.video.src&&(a.currentTime=this.options.continue.video.time,this.options.continue.video=null)}this.data.selected.index=r})()};navigate=(e,t=null)=>{if(this.pipe("busyState",this.busy()),this.busy())return!1;let i=this.items.length-1;if(null===e&&(e=this.data.selected.index),null!==t&&(e=this.calculateIndex(e,t,i)),this.data.selected.index===e||!0===this.busy())return!1;let n=null,r=null,s=this.container.querySelector(":scope > div.gallery-content"),o=s.querySelector(":scope > div.media > div.wrapper img"),a=s.querySelector(":scope > div.media > div.wrapper video"),l=s.querySelector(":scope > div.list"),c=l.querySelector("table"),d=c.querySelector(`tr:nth-child(${e+1})`);r=this.items[e];let u=this.encodeUrl(r.url);this.data.selected.src=u,this.data.selected.ext=this.getExtension(r.name),c.querySelector("tr.selected")&&c.querySelector("tr.selected").classList.remove("selected"),d.classList.add("selected"),c.querySelector("tr.selected").classList.add("selected"),this.apply.itemInfo(!o&&!a,r,e,i+1);let h=!1;if(this.options.performance&&this.optimize&&this.optimize.enabled&&d.classList.contains("hid-row")&&d._offsetTop>=0){let e=d._offsetTop-l.offsetHeight/2;l.scrollTo(0,e>=0?e:0),h=!0}if(h||this.isScrolledIntoView(l,d)||l.scrollTo(0,d.offsetTop),this.isImage(null,this.data.selected.ext)){if(this.busy(!0),n=!o,a&&a.pause(),!0===n){let e=w.dom.new("div",{class:"cover",style:"display: none"});this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper").prepend(e),o=w.dom.new("img"),e.append(o),e.addEventListener("mouseenter",(e=>{this.options.reverseOptions&&this.reverse(e.currentTarget)}))}return this.loadImage(u).then((t=>{let[i,r,s]=t,[a,l]=s;this.data.selected.src===i&&this.showItem(0,o,i,n,e,{img:{width:a,height:l}})})).catch((t=>{console.error(t),this.busy(!1),this.data.selected.index=e,this.container.querySelectorAll(":scope > div.gallery-content > div.media > div.wrapper img, \t\t\t\t\t:scope > div.gallery-content > div.media > div.wrapper video").forEach((e=>{e.style.display="none"})),this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper > div:not(.cover)")&&this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper > div:not(.cover)").remove();let i=w.dom.new("div",{class:"error"});i.innerHTML="Error: Image could not be displayed.",this.container.querySelector(".media .wrapper").append(i)})),!0}return this.isVideo(null,this.data.selected.ext)?(this.busy(!0),n=!a,n&&(a=this.video.create(this.data.selected.ext)[0],this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper").append(a)),this.showItem(1,a,u,n,e),!0):void 0};handleKey=(e,t)=>{this.pipe("handleKey",e),e===T.keys.escape?this.show(!1):e===T.keys.arrowDown||e===T.keys.pageDown||e===T.keys.arrowRight?e===T.keys.arrowRight&&1===this.data.selected.type?this.video.seek(5)&&this.navigate(null,1):this.navigate(null,1):e===T.keys.arrowUp||e===T.keys.pageUp||e===T.keys.arrowLeft?e===T.keys.arrowLeft&&1===this.data.selected.type?this.video.seek(-5)&&this.navigate(null,-1):this.navigate(null,-1):e===T.keys.l&&this.toggleList(),t(this.data.keyPrevent.includes(e))};unbind=(e,t=!0)=>{e.forEach((e=>{if(Object.prototype.hasOwnProperty.call(e,"direct")&&!0===e.direct)return k.removeListener(e.trigger,e.event),!0;let t=e.hasOwnProperty("id")?e.id:null;e.trigger?k.removeListener(e.trigger,e.event,t):k.removeListener(document,e.event,t)})),!0===t&&this.emitter.dispatch("unbound",!0)};scrollBreak=()=>{this.data.scrollbreak=!1};toggleList=(e=null)=>{let t=this.container.querySelector(":scope > div.gallery-content > div.list"),i="none"!==t.style.display,n=S.get();return n.gallery.listState=i?0:1,S.set(n),e||(e=document.body.querySelector('div.gallery-root > div.gallery-bar .gallery-bar__right span[data-action="toggle"]')),e.textContent="List"+(i?"+":"-"),w.dom.css.set(t,{display:i?"none":"table-cell"}),this.update.listWidth(),!i&&this.options.performance&&this.optimize.enabled&&this.optimize.attemptRefresh(),!i};bind=()=>{if(this.data.bound=[{event:"click",trigger:"body > div.gallery-root > div.gallery-content > div.list table tr"},{event:"click",trigger:"body > div.gallery-root > div.gallery-content > div.media"},{event:"DOMMouseScroll mousewheel",trigger:"body > div.gallery-root > div.gallery-content > div.media"},{event:"mouseenter",trigger:"body > div.gallery-root > div.gallery-content > div.media > div.wrapper > div.cover"},{event:"mouseup",trigger:"body > div.gallery-root"},{event:"keydown",trigger:null,id:"galleryKeyDown"},{event:"keyup",trigger:null,id:"galleryKeyUp"}],this.unbind(this.data.bound,!1),k.addListener(this.data.listDrag,"mousedown","galleryListMouseDown",(e=>{this.data.listDragged=!0;let t=window.innerWidth,i=this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper");w.dom.css.set(document.body,{cursor:"w-resize"}),w.dom.css.set(i,{"pointer-events":"none"}),k.addListener("body > div.gallery-root","mousemove","galleryListMouseMove",(e=>{let i=e.clientX;if(i<t){let e=this.options.list.reverse?i+this.data.scrollbarWidth:t-i;requestAnimationFrame((()=>{w.dom.css.set(this.data.list,{width:`${e}px`})}))}}))})),k.addListener("body > div.gallery-root","mouseup","galleryListMouseUp",(e=>{if(!0===this.data.listDragged){k.removeListener("body > div.gallery-root","mousemove","galleryListMouseMove");let e=this.container.querySelector(":scope > div.gallery-content > div.media > div.wrapper");w.dom.css.set(document.body,{cursor:""}),w.dom.css.set(e,{"pointer-events":"auto"});let t=parseInt(this.data.list.style.width.replace(/[^-\d.]/g,""));if(this.pipe("Set list width",t),t>100){let i=JSON.parse(b().get("ei-client"));i.gallery.listWidth=t,b().set("ei-client",JSON.stringify(i),{sameSite:"lax",expires:365}),this.update.listWidth(e)}this.data.listDragged=!1}})),k.addListener("body > div.gallery-root","click","galleryContainerClick",(e=>{if(e.target&&e.target.hasAttribute("data-action")){switch(e.target.getAttribute("data-action").toLowerCase()){case"next":this.navigate(null,1);break;case"previous":this.navigate(null,-1);break;case"toggle":this.toggleList(e.target);break;case"close":this.show(!1)}}})),k.addListener("body > div.gallery-root > div.gallery-content > div.list table","click","listNavigateClick",(e=>{"TD"==e.target.tagName?this.navigate(w.dom.getIndex(e.target.closest("tr"))):"TR"==e.target.tagName&&this.navigate(w.dom.getIndex(e.target))})),k.addListener("body > div.gallery-root > div.gallery-content > div.media","click","mediaClick",(e=>{["IMG","VIDEO","A"].includes(e.target.tagName)||this.show(!1)})),!0===this.options.mobile){let e=(e,t)=>{switch(t.directionX){case"RIGHT":this.navigate(null,-1);break;case"LEFT":this.navigate(null,1)}};new(D())({element:document.querySelector("body > div.gallery-root"),onSwiped:e,mouseTrackingEnabled:!0}).init()}return k.addListener("body > div.gallery-root > div.gallery-content > div.media",["DOMMouseScroll","mousewheel"],"galleryKeyUp",(e=>{if(this.options.scrollInterval>0&&!0===this.data.scrollbreak)return!1;this.navigate(null,e.detail>0||e.wheelDelta<0?1:-1),this.options.scrollInterval>0&&(this.data.scrollbreak=!0,setTimeout((()=>this.scrollBreak()),this.options.scrollInterval))})),k.addListener(document,"keyup","galleryKeyUp",(e=>{this.handleKey(e.keyCode,(t=>{t&&e.preventDefault()}))})),k.addListener(document,"keydown","galleryKeyDown",(e=>{this.data.keyPrevent.includes(e.keyCode)&&e.preventDefault(),e.keyCode===T.keys.g&&this.show(!1)})),this.emitter.dispatch("bound",!0),this.container};barConstruct=e=>(e.append(w.dom.new("a",{text:this.options.mobile?"Save":"Download",class:"download",download:""})),this.options.mobile||(e.append(w.dom.new("span",{"data-action":"previous",text:"Previous"})),e.append(w.dom.new("span",{"data-action":"next",text:"Next"})),e.append(w.dom.new("span",{"data-action":"toggle",text:this.options.list.show?"List-":"List+"}))),e.append(w.dom.new("span",{"data-action":"close",text:"Close"})),e);initiate=e=>{this.limitBody(!0);let t=document.body.querySelector(":scope > div.preview-container");t&&t.remove(),this.container=w.dom.new("div",{class:"gallery-root"}),document.body.prepend(this.container);let i=w.dom.new("div",{class:"gallery-bar"});this.container.append(i),i.append(w.dom.new("div",{class:"gallery-bar__left"})),i.append(this.barConstruct(w.dom.new("div",{class:"gallery-bar__right"})));let n=w.dom.new("div",{class:"gallery-content"+(this.options.list.reverse?" reversed":"")});this.container.append(n);let r=w.dom.new("div",{class:"media"}),s=w.dom.new("div",{class:"ns list"});n.append(this.options.list.reverse?s:r),n.append(this.options.list.reverse?r:s),this.data.listDrag=w.dom.new("div",{class:"drag"}),s.append(this.data.listDrag),this.data.list=s,this.data.listDragged=!1,this.data.scrollbarWidth=this.data.scrollBar.widthForced?0:this.data.scrollBar.width;let o=JSON.parse(b().get("ei-client"));try{let e=JSON.parse(o.gallery.listWidth.toString().toLowerCase());e&&parseInt(e)>window.innerWidth/2&&(o.gallery.listWidth=Math.floor(window.innerWidth/2),b().set("ei-client",JSON.stringify(o),{sameSite:"lax",expires:365})),e&&w.dom.css.set(this.data.list,{width:`${e}px`})}catch(e){o.gallery.listWidth=!1,b().set("ei-client",JSON.stringify(o),{sameSite:"lax",expires:365})}if(!0===this.options.mobile){let e=w.dom.new("div",{class:"screen-navigate left","data-action":"previous"}),t=w.dom.new("div",{class:"screen-navigate right","data-action":"next"});e.append(w.dom.new("span")),t.append(w.dom.new("span")),n.append(t,e)}r.append(w.dom.new("div",{class:"wrapper"+(this.options.fitContent?" fill":"")})),r.append(w.dom.new("div",{class:"spinner"}));let a=w.dom.new("table",{cellspacing:"0"});a.append(w.dom.new("tbody")),s.append(a),this.populateTable(this.items),e(!0)}}const I=T.instances.pipe;const C=T.instances.pipe,N=new Object;N.option=(e,t,i=new Object,n=null)=>{Object.prototype.hasOwnProperty.call(i,"class")&&(i.class="option "+i.class);let r=Object.assign({class:"option"},i),s={class:"option-text",text:t};n&&(s.title=n);let o=w.dom.wrap(w.dom.wrap(e,"div"),"div",r);return o.prepend(w.dom.new("div",s)),o},N.section=(e,t=null)=>{let i=w.dom.new("div",{class:"section","data-key":e});return i.appendChild(w.dom.new("div",{class:"header",text:t||(0,w.capitalize)(e)})),i},N.select=(e,t=new Object,i=null)=>{let n=w.dom.new("select",t);return n.append(...e.map(((e,t)=>{e.text=(0,w.capitalize)(e.text);let r=w.dom.new("option",e);return null!==i&&!0===i(r,t,n)&&(r.selected=!0,n.selectedIndex=t),r}))),n},N.check=(e=new Object,t=null)=>{let i=null!==t&&t();i&&(e.checked="");let n=w.dom.new("input",Object.assign(e,{type:"checkbox"}));return n.checked=i,n};const q={style:new Object,gallery:new Object};q.style.theme=e=>{z.set(!1===e?null:e,!1)},q.style.compact=e=>{document.body.classList[e?"add":"remove"]("compact")},q.gallery.listAlignment=e=>{if(T.instances.gallery){let t=document.body.querySelector(":scope > div.gallery-root > div.gallery-content");t.classList[0===e?"remove":"add"]("reversed");let i=t.querySelector(":scope > div.list"),n=t.querySelector(":scope > div.media");t.querySelector(":scope > div.list").remove(),n.parentNode.insertBefore(i,1===e?n:n.nextSibling),T.instances.gallery.options.list.reverse=0!==e}},q.gallery.reverseOptions=e=>{if(T.instances.gallery){T.instances.gallery.options.reverseOptions=e;let t=document.body.querySelector("div.gallery-root \t\t\t> div.gallery-content > div.media > div.wrapper > div.cover .reverse");t&&t.remove()}},q.gallery.fitContent=e=>{if(T.instances.gallery){T.instances.gallery.options.fitContent=e;let t=document.body.querySelector("div.gallery-root \t\t\t> div.gallery-content > div.media > div.wrapper");t&&e?(t.classList.add("fill"),T.sets.refresh=!0,T.sets.selected=null):t&&(t.classList.remove("fill"),[".cover",".cover img","video"].forEach((e=>{w.dom.css.set(t.querySelector(e),{height:"",width:""})})))}},q.gallery.autoplay=e=>{T.instances.gallery&&(T.instances.gallery.options.autoplay=e)};const R=new Object;R.gather=e=>{let t=new Object;return e.querySelectorAll('select, input[type="checkbox"]').forEach((e=>{if(e.hasAttribute("name")){let i=e.getAttribute("name"),n=e.hasAttribute("data-key")?e.getAttribute("data-key"):e.closest(".section").getAttribute("data-key");Object.prototype.hasOwnProperty.call(t,n)||(t[n]=new Object),"SELECT"===e.tagName?t[n][i]=e.selectedIndex:"INPUT"===e.tagName&&"CHECKBOX"===e.getAttribute("type").toUpperCase()&&(t[n][i]=e.checked)}})),t},R.set=(e,t)=>(t=t||S.get(),Object.keys(e).forEach((i=>{let n="main"===i;n||Object.prototype.hasOwnProperty.call(t,i)||(t[i]=new Object),Object.keys(e[i]).forEach((r=>{let s=null;switch(O.get(`style.themes.pool.${e[i][r]}`),r){case"theme":if(e[i][r]<=O.get("style.themes.pool").length-1){let t=O.get(`style.themes.pool.${e[i][r]}`);s="default"!==t&&t}break;default:s=e[i][r]}let o=n?t[r]!==s:t[i][r]!==s;e[i][r]={value:s,changed:o},n?t[r]=s:t[i][r]=s,o&&(n&&Object.prototype.hasOwnProperty.call(q,r)?q[r](s):(0,w.checkNested)(q,i,r)&&q[i][r](s))}))})),C("Set settings",e),S.set(t),e);const z=new Object;z.set=(e=null,t=!0)=>{let i=O.get("style.themes.path"),n=document.querySelectorAll('head > link[rel="stylesheet"]');if(n.length>0&&(n=Array.from(n),n=n.filter((e=>e.hasAttribute("href")&&e.getAttribute("href").includes(i)))),O.set("style.themes.set",e),null===e||!e)return n.length>0&&n.forEach((e=>{e.remove()})),!1;t&&S.set(S.get().style.theme=e);let r=w.dom.new("link",{rel:"stylesheet",type:"text/css",href:`${i}/${e}.css`.replace(/\/\//g,"/")});document.querySelector("head").append(r),n.length>0&&n.forEach((e=>{e.remove()}))};const H=new Object,V=T.instances.selector;H.apply=(e=new String)=>{let t=new Object,i=!1;T.sets.refresh=!0,t.reset=e===new String||!e,t.shown={directories:0,files:0},t.size=0,T.instances.gallery&&(T.instances.gallery.data.selected.index=0);let n=Object.prototype.hasOwnProperty.call(O.get("sorting"),"directorySizes")&&O.get("sorting.directorySizes"),r=T.instances.optimize.hasOwnProperty("main")&&T.instances.optimize.main.enabled,s=r?T.instances.optimize.main.rows:V.use("TABLE").querySelectorAll("tbody > tr");for(let o=1;o<s.length;o++){let a=s[o];if(!0===t.reset){a.classList.remove("filtered"),r&&T.instances.optimize.main.setVisibleFlag(a,!0);continue}let l={file:!1,directory:!1};a.classList.contains("file")?l.file=!0:a.classList.contains("directory")&&(l.directory=!0);let c=H.getMatch(a.children[0].getAttribute("data-raw"),e);if(c.valid&&c.data?(a.classList.remove("filtered"),r&&T.instances.optimize.main.setVisibleFlag(a,!0),l.file?t.shown.files++:l.directory&&t.shown.directories++):c&&!1===c.valid?i=c.reason:(a.classList.add("filtered"),r&&T.instances.optimize.main.setVisibleFlag(a,!1)),c.valid&&c.data&&l.file||n&&c.valid&&c.data&&l.directory){let e=a.children[2].getAttribute("data-raw");t.size=isNaN(e)?t.size:t.size+parseInt(e)}}t.reset?V.use("TABLE_CONTAINER").removeAttribute("is-active-filter",""):(V.use("TABLE_CONTAINER").setAttribute("is-active-filter",""),window.scrollTo(0,0)),r&&T.instances.optimize.main.refactor();let o={container:document.body.querySelector(":scope > div.top-bar")};["size","files","directories"].forEach((e=>{o[e]=o.container.querySelector(`[data-count="${e}"]`)})),Object.prototype.hasOwnProperty.call(T.sets.defaults,"topValues")||(T.sets.defaults.topValues={size:o.size.textContent,files:o.files.textContent,directories:o.directories.textContent}),o.size.textContent=t.reset?T.sets.defaults.topValues.size:(0,w.getReadableSize)(O.get("format.sizes"),t.size),o.files.textContent=t.reset?T.sets.defaults.topValues.files:`${t.shown.files} file${1===t.shown.files?"":"s"}`,o.directories.textContent=t.reset?T.sets.defaults.topValues.directories:`${t.shown.directories} ${1===t.shown.directories?"directory":"directories"}`;let a=document.body.querySelector(":scope > div.menu > #gallery"),l=V.use("TABLE_CONTAINER").querySelectorAll("table tr.file:not(.filtered) a.preview").length;!1!==i&&console.error(`Filter regex error: ${i}`),!t.reset&&0===l&&a?"none"!==a.style.display&&(a.style.display="none"):(l>0||t.reset)&&a&&"none"===a.style.display&&(a.style.display="block")},H.getMatch=(e,t)=>{let i=new Object;try{i.valid=!0,i.data=e.match(new RegExp(t,"i"))}catch(e){i.valid=!1,i.reason=e}return i},H.toggle=()=>{let e=document.body.querySelector(":scope > div.filter-container"),t=e.querySelector('input[type="text"]');"none"!==e.style.display?e.style.display="none":(t.value=new String,H.apply(null),e.style.display="block"),t.focus()};const U=new Object,Y=T.instances.selector,B=T.instances.pipe;U.handleTopBarVisibility=()=>{let e=Y.use("PATH"),t=document.body.querySelector(":scope > div.top-bar > div.directory-info > div.quick-path");(0,w.getScrollTop)()<e.offsetTop+e.offsetHeight?t&&t._isVisible&&(t.classList.remove("visible"),t._isVisible=!1):(t||(t=w.dom.new("div",{class:"quick-path","data-view":"desktop"}),t.innerHTML=e.innerHTML,document.body.querySelector(":scope > div.top-bar > div.directory-info").append(t)),t._isVisible||(!1!==t._isVisible?requestAnimationFrame((()=>{t.classList.add("visible")})):t.classList.add("visible"),t._isVisible=!0))};const $=new Object;$.break=!1,$.save=null,U.handlePreviewScroll=e=>{if(T.scrollLock&&!$.break){if(e.deltaY&&0!==Math.abs(e.deltaY)){let t=T.preview.volume>5?2:1;e.deltaY<0?(T.preview.volume+=t,T.preview.volume>100&&(T.preview.volume=100)):e.deltaY>0&&(T.preview.volume-=t,T.preview.volume<0&&(T.preview.volume=0)),clearTimeout($.save),$.save=setTimeout((()=>{localStorage.setItem(`${T.storageKey}.previewVolume`,T.preview.volume)}),100),B("data.previewVolume",T.preview.volume,T.preview.data),T.preview.data&&T.preview.data.element&&T.preview.data.audible&&"VIDEO"===T.preview.data.type&&(0,w.setVideoVolume)(T.preview.data.element,T.preview.volume/100)}$.break=!0,setTimeout((()=>{$.break=!1}),25)}T.scrollLock&&e.preventDefault()};let W=null;U.handleBaseScroll=e=>{if(clearTimeout(W),W=setTimeout((()=>(U.handleTopBarVisibility(),void(T.instances.optimize.main.enabled&&T.instances.optimize.main.attemptRefresh()))),100),T.instances.optimize.main.enabled){let e=window.scrollY;Math.abs(e-T.layer.main.scrolledY)>175&&T.instances.optimize.main.attemptRefresh()}};const F=(e,t)=>{let i,n,r=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],s=/\\?(.?)/gi,o=(e,t)=>n[e]?n[e]():t,a=(e,t)=>{for(e=String(e);e.length<t;)e="0"+e;return e};n={d:()=>a(n.j(),2),D:()=>n.l().slice(0,3),j:()=>i.getDate(),l:()=>r[n.w()]+"day",N:()=>n.w()||7,S:()=>{let e=n.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:()=>i.getDay(),z:()=>{let e=new Date(n.Y(),n.n()-1,n.j()),t=new Date(n.Y(),0,1);return Math.round((e-t)/864e5)},W:()=>{let e=new Date(n.Y(),n.n()-1,n.j()-n.N()+3),t=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-t)/864e5/7),2)},F:()=>r[6+n.n()],m:()=>a(n.n(),2),M:()=>n.F().slice(0,3),n:()=>i.getMonth()+1,t:()=>new Date(n.Y(),n.n(),0).getDate(),L:()=>{let e=n.Y();return e%4==0&e%100!=0|e%400==0},o:()=>{let e=n.n(),t=n.W();return n.Y()+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:()=>i.getFullYear(),y:()=>n.Y().toString().slice(-2),a:()=>i.getHours()>11?"pm":"am",A:()=>n.a().toUpperCase(),B:()=>{let e=3600*i.getUTCHours(),t=60*i.getUTCMinutes(),n=i.getUTCSeconds();return a(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:()=>n.G()%12||12,G:()=>i.getHours(),h:()=>a(n.g(),2),H:()=>a(n.G(),2),i:()=>a(i.getMinutes(),2),s:()=>a(i.getSeconds(),2),u:()=>a(1e3*i.getMilliseconds(),6),e:()=>{throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:()=>new Date(n.Y(),0)-Date.UTC(n.Y(),0)!=new Date(n.Y(),6)-Date.UTC(n.Y(),6)?1:0,O:()=>{let e=i.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+a(100*Math.floor(t/60)+t%60,4)},P:()=>{let e=n.O();return e.substr(0,3)+":"+e.substr(3,2)},T:()=>"UTC",Z:()=>60*-i.getTimezoneOffset(),c:()=>"Y-m-d\\TH:i:sP".replace(s,o),r:()=>"D, d M Y H:i:s O".replace(s,o),U:()=>i/1e3|0};return((e,t)=>(i=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(s,o)))(e,t)},K=T.instances.selector,G=w.dom,X=new Object;X.menu=new Object,X.menu.create=()=>{let e=G.new("div",{class:"menu"});K.use("BODY").append(e);let t=new Array;return t.push({text:T.text.menuLabels.filter.text,id:"filter"}),t.push({text:T.text.menuLabels.wget.text,id:"copy"}),!0===O.get("gallery.enabled")&&K.use("TABLE").querySelectorAll(":scope > tbody > \t\t\ttr.file > td > a.preview").length>0&&t.unshift({text:T.text.menuLabels.gallery.text,id:"gallery"}),T.components.settings.available()&&t.unshift({text:T.text.menuLabels.settings.text,id:"settings",class:"settings"}),t.forEach((t=>{let i=G.new("div",{text:t.text,class:"ns"+(t.hasOwnProperty("class")?` ${t.class}`:"")});t.hasOwnProperty("id")&&i.setAttribute("id",t.id),e.append(i)})),k.addListener(e,"click","menuItemClick",(e=>{if("DIV"==e.target.tagName){let t=(e,t)=>{e?X.menu.toggle(e):X.menu.toggle(),t()};"gallery"==e.target.id&&!0===O.get("gallery.enabled")?t(!1,(()=>T.components.gallery.load(null))):"copy"==e.target.id?t(!1,(()=>w.clipboard.copy(w.generateWget(K.use("TABLE"))))):"settings"==e.target.id?t(!1,(()=>T.components.settings.show())):"filter"==e.target.id&&t(null,(()=>T.components.filter.toggle()))}})),e},X.menu.toggle=(e=null)=>{let t=document.querySelector("body > div.menu"),i="none"===t.style.display,n="boolean"==typeof e?e?"inline-block":"none":i?"inline-block":"none";return G.css.set(t,{display:n}),K.use("TOP_EXTEND").innerHTML=i?"&#x25B4;":"&#x25BE;",i},X.dates=new Object,X.dates.offsetGet=()=>(new Date).getTimezoneOffset(),X.dates.formatSince=e=>{if(0===e)return"Now";if(e<0)return!1;let t={year:31556926,month:2629743,week:604800,day:86e3,hour:3600,minute:60,second:1},i=Object.keys(t),n=i.length-1,r=!1;for(let s=0;s<i.length;s++){let o=i[s];if(e<=t[o])continue;let a=n>=s+1?i[s+1]:null,l=Math.floor(e/t[o]),c=a?Math.floor((e-l*t[o])/t[a]):0;r=`${l} ${o}${1==l?"":"s"}`+(c>0?` and ${c} ${a}${1==c?"":"s"}`:"")+" ago";break}return r},X.dates.apply=(e,t=!0)=>{let i=O.get("timestamp"),n=O.get("format.date");K.use("TABLE").querySelectorAll("tr.directory > td:nth-child(2), \t\ttr.file > td[data-raw]:nth-child(2)").forEach(((r,s)=>{let o=parseInt(r.getAttribute("data-raw")),a=X.dates.formatSince(i-o),l=!0===t?G.new("span"):r.querySelector(":scope > span");!0===t&&(n.forEach(((e,t)=>{if(t<=1){let i=G.new("span",{text:F(e,o)});O.get("format.date").length>1&&i.setAttribute("data-view",0===t?"desktop":"mobile"),l.appendChild(i)}})),r.innerHTML=l.innerHTML),a&&l.setAttribute("title",`${a} (UTC${(e.hours>0?"+":"")+e.hours})`)})),document.body.querySelectorAll('div.top-bar > .directory-info div[data-count="files"], \t\tdiv.top-bar > .directory-info div[data-count="directories"]').forEach(((e,t)=>{e.hasAttribute("data-raw")&&e.setAttribute("title","Newest: "+F(n[0],parseInt(e.getAttribute("data-raw"))))}))},X.dates.load=()=>{let e=X.dates.offsetGet(),t=S.get(),i=t.timezone_offset!=e;i&&(t.timezone_offset=e,S.set(t)),e={minutes:e>0?-Math.abs(e):Math.abs(e)},e.hours=e.minutes/60,e.seconds=60*e.minutes,X.dates.apply(e,i)},X.sort=new Object,X.sort.load=()=>{if(O.exists("sorting")&&O.get("sorting.enabled")){let e=O.get("sorting.types");if(0===e||1===e){let e="asc"===O.get("sorting.order"),t=null;switch(O.get("sorting.sortBy")){case"name":t=0;break;case"modified":t=1;break;case"size":t=2;break;case"type":t=3;break;default:t=null}if(null!==t){let i=document.querySelectorAll("table th span[sortable]")[t].closest("th");if(i){i.asc=e;let t=i.querySelector(":scope > span.sort-indicator");t&&t.classList.add(e?"down":"up","visible")}}}}},X.overlay=new Object,X.overlay.hide=(e=(()=>new Object))=>{let t=0,i=new Array;i.push({element:document.body.querySelector(":scope > div.filter-container"),f:T.components.filter.toggle}),i.push({element:document.body.querySelector(":scope > div.menu"),f:X.menu.toggle}),i.forEach((e=>{e.element&&"none"!==e.element.style.display&&(e.f(),t++)})),e(t>0)},X.getTableItems=()=>{let e=new Array;if(T.instances.optimize.main.enabled){let[t,i]=T.instances.optimize.main.getActiveData();for(let i=0;i<t.length;i++){if(0===i)continue;let n=t[i],r=n.children[0].children[0];r.classList.contains("preview")&&e.push({url:r.getAttribute("href"),name:n.children[0].getAttribute("data-raw"),size:n.children[2].textContent})}}else{K.use("TABLE").querySelectorAll(":scope > tbody > tr.file:not(.filtered) > td:first-child > a.preview").forEach((t=>{let i=t.parentNode,n=i.parentNode,r=t.getAttribute("href");void 0!==r&&e.push({url:r,name:i.getAttribute("data-raw"),size:n.querySelector("td:nth-child(3)").innerHTML})}))}return e},X.sortTableColumn=e=>{let t=e.closest("th"),i="TH"!==e.tagName?t:e,n=G.getIndex(i),r={directories:Array.from(K.use("TABLE").querySelectorAll("tbody > tr.directory")),files:Array.from(K.use("TABLE").querySelectorAll("tbody > tr.file"))},s=!(Object.prototype.hasOwnProperty.call(O.get("sorting"),"directorySizes")&&O.get("sorting.directorySizes"))&&O.exists("sorting.sortBy")&&(2===n||3===n);if(T.instances.optimize.main.enabled)T.instances.optimize.main.sortRows(n,i.asc?"desc":"asc");else{let e=O.get("sorting.types");0!==e&&2!==e||s||r.directories.sort(w.comparer(n)),0!==e&&1!==e||r.files.sort(w.comparer(n))}i.asc=!i.asc,document.body.querySelectorAll(":scope > div.table-container > table > \t\tthead > tr > th span.sort-indicator").forEach((e=>{e.classList.remove("up","down","visible")})),t.querySelector(":scope > span.sort-indicator").classList.add(i.asc?"down":"up","visible");let o=S.get();if(o.sort.ascending=i.asc?1:0,o.sort.row=n,S.set(o),!T.instances.optimize.main.enabled){if(!i.asc){let e=O.get("sorting.types");0!==e&&2!==e||s||(r.directories=r.directories.reverse()),0!==e&&1!==e||(r.files=r.files.reverse())}let e=K.use("TABLE").querySelector("tbody");Object.keys(r).forEach((t=>{r[t].forEach((t=>{e.append(t)}))}))}T.sets.refresh=!0,T.sets.selected=null};const J=X,Z=T.instances.selector,Q=T.instances.pipe;try{navigator.mediaSession.setActionHandler("play",(()=>{}))}catch(e){Q(e)}if(T.components.main=J,T.layer.main={windowHeight:window.innerHeight,windowWidth:window.innerWidth,scrolledY:window.scrollY,update:()=>{let e=Z.use("TABLE_CONTAINER");if(T.layer.main.windowHeight=window.innerHeight,T.layer.main.windowWidth=window.innerWidth,T.layer.main.scrolledY=window.scrollY,T.layer.main.tableWidth=e.offsetWidth,O.get("mobile"))document.documentElement.style.setProperty("--table-width",`${T.layer.main.tableWidth}px`);else{let e=document.documentElement,t=e.scrollHeight>e.clientHeight;document.documentElement.style.setProperty("--table-width",t?`calc(${T.layer.main.tableWidth}px + var(--scrollbar-width))`:`${T.layer.main.tableWidth}px`)}return!0}},T.layer.main.update(),O.get("performance")){let e=e=>{let t=0;for(let i=0;i<e.length;i++)e[i].children[0].children[0].classList.contains("preview")&&(e[i]._mediaIndex=t,t++)};setTimeout((()=>{requestAnimationFrame((()=>{T.instances.optimize.main=new A({page:T.layer.main,table:Z.use("TABLE"),scope:[window,"scrollY"],padding:10,on:{rowChange:e}})}))}),1)}if(k.addListener(Z.use("TOP_EXTEND"),"click","sortClick",(e=>{T.components.main.menu.toggle(e.currentTarget)})),k.addListener(Z.use("FILTER_INPUT"),"input","filterInput",(e=>{T.components.filter.apply(e.currentTarget.value)})),k.addListener(Z.use("TABLE"),"click","sortClick",(e=>{if("SPAN"==e.target.tagName&&e.target.hasAttribute("sortable"))T.components.main.sortTableColumn(e.target);else if(!0===O.get("gallery.enabled")&&"A"==e.target.tagName&&"preview"==e.target.className){e.preventDefault();let t=0;if(T.instances.optimize.main.enabled){let i=e.target.closest("tr");i._mediaIndex&&(t=i._mediaIndex)}else Z.use("TABLE").querySelectorAll("tr.file:not(.filtered) a.preview").forEach(((i,n)=>{e.target===i&&(t=n)}));T.components.gallery.load(t)}})),k.addListener(window,"resize","windowResize",w.debounce((()=>{Q("windowResize (main)","Resized."),O.set("mobile",Modernizr.mq("(max-width: 640px)")),T.instances.gallery&&(T.instances.gallery.options.mobile=O.get("mobile"),T.instances.gallery.update.listWidth()),T.layer.main.update(),T.instances.optimize.main.enabled&&T.instances.optimize.main.attemptRefresh()}))),!1===O.get("mobile")&&!0===O.get("preview.enabled")){let e=new Object,t=e=>{T.preview.data&&T.preview.data.element&&T.preview.data.element.remove();let[t,i]=[e.element,e.type];T.preview.data=e,t&&"VIDEO"===i&&w.setVideoVolume(t,T.preview.volume/100),e.loaded&&e.audible?T.scrollLock=!0:T.scrollLock=!1},i=i=>{let n=i.getAttribute("href"),r=O.get("extensions"),s=w.identifyExtension(w.stripUrl(n),{image:r.image,video:r.video});if(s){let[n,r]=s,o=new Object;o.delay=O.get("preview.hoverDelay"),o.cursor=O.get("preview.cursorIndicator"),o.encodeAll=O.get("encodeAll"),o.on={onLoaded:t},o.force={extension:n,type:r},e[i.itemIndex]=((e,t)=>new g(e,t))(i,o)}};document.querySelectorAll("body > div.table-container > table tr.file > td > a.preview").forEach(((e,t)=>{e.itemIndex=t,0===t&&i(e)})),k.addListener(Z.use("TABLE"),"mouseover","previewMouseEnter",(t=>{if("A"==t.target.tagName&&"preview"==t.target.className){let n=t.target.itemIndex;Object.prototype.hasOwnProperty.call(e,n)||i(t.target)}}))}T.components.settings=new class{constructor(){return this}available=()=>!!(O.exists("style.themes.pool")&&O.get("style.themes.pool").length>0||!0===O.get("gallery.enabled"));apply=(e,t)=>{t=t||S.get(),R.set(R.gather(e),t),T.components.settings.close(),T.layer.main.update()};close=()=>{Array.isArray(this.events)&&(this.events.forEach((e=>{let[t,i,n]=e;k.removeListener(t,i,n)})),delete this.events),document.body.querySelectorAll(":scope > div.focus-overlay, \t\t\t:scope > div.settings-container").forEach((e=>{e.remove()}))};getSectionGallery=(e=N.section("gallery"),t=0)=>{O.get("mobile")||(e.append(N.option(N.select(["right","left"].map((e=>({value:"align-"+e,text:e}))),{name:"listAlignment"},((e,t)=>t===this.client.gallery.listAlignment)),T.text.settingsLabels.galleryListAlignment.text)),t++);let i=new Array;return i.push([T.text.settingsLabels.galleryReverseSearch.text,"reverseOptions",T.text.settingsLabels.galleryReverseSearch.description]),i.push([T.text.settingsLabels.galleryVideoAutoplay.text,"autoplay",T.text.settingsLabels.galleryVideoAutoplay.description]),i.push([T.text.settingsLabels.galleryFitContent.text,"fitContent",T.text.settingsLabels.galleryFitContent.description]),i.forEach((i=>{let[n,r,s]=i;e.append(N.option(N.check({name:r},(()=>(0,w.checkNested)(this.client,"gallery",r)?this.client.gallery[r]:O.get(`gallery.${r}`))),n,{class:"interactable"},s)),t++})),{settings:t,section:e}};getSectionMain=(e=N.section("main"),t=0)=>{if(O.exists("style.themes.pool")&&O.get("style.themes.pool").length>0){let i=O.get("style.themes.set"),n=[O.get("style.themes.pool").map((e=>({value:e,text:e}))),{name:"theme","data-key":"style"},(e,t)=>null===i&&0===t||e.value==i];e.append(N.option(N.select(...n),"Theme")),t++}if(O.exists("style.compact")&&!O.get("mobile")){let i=new Array;i.push({name:"compact","data-key":"style"}),i.push((()=>(0,w.checkNested)(this.client,"style","compact")?this.client.style.compact:O.get("style.compact")));let n=N.check(...i),r=N.option(n,T.text.settingsLabels.stylingCompact.text,{class:"interactable"},T.text.settingsLabels.stylingCompact.description);e.appendChild(r),t++}return{settings:t,section:e}};show=()=>{if(document.body.querySelector(":scope > div.settings-container"))return;this.client=S.get(),this.events=new Array;let e=new Array;if(!document.body.querySelector(":scope > div.focus-overlay")){let e=w.dom.new("div",{class:"focus-overlay"});document.body.appendChild(e),this.events.push([e,"click",E.USE_ASSIGNED_DOM_ID]),k.addListener(e,"click",E.USE_ASSIGNED_DOM_ID,(e=>{T.components.settings.close()}))}let t=w.dom.new("div",{class:"settings-container"});e.push(this.getSectionMain()),O.get("gallery.enabled")&&e.push(this.getSectionGallery());let i=w.dom.new("div",{class:"wrapper"});i.append(...e.map((e=>e.settings>0?e.section:null)).filter((e=>null!==e)));let n=w.dom.new("div",{class:"bottom"}),r=w.dom.new("div",{class:"apply ns",text:"Apply"}),s=w.dom.new("div",{class:"cancel ns",text:"Cancel"});t.appendChild(i),t.appendChild(n),[[r,()=>this.apply(t,this.client)],[s,()=>this.close()]].forEach((e=>{let[t,i]=e;n.appendChild(t),this.events.push([t,"click",E.USE_ASSIGNED_DOM_ID]),k.addListener(t,"click",E.USE_ASSIGNED_DOM_ID,(e=>{i()}))})),document.body.appendChild(t),t.querySelectorAll("div.section > .option.interactable").forEach((e=>{this.events.push([e,"mouseup",E.USE_ASSIGNED_DOM_ID]),k.addListener(e,"mouseup",E.USE_ASSIGNED_DOM_ID,(e=>{if(!window.getSelection().toString()&&"INPUT"!==e.target.tagName){let t=e.currentTarget.querySelector('input[type="checkbox"]');if(t)return void(t.checked=!t.checked)}}))}))}},T.components.filter=H,T.components.gallery=new class{constructor(){return this}setOptions=(e,t)=>(t.forEach((t=>{let i=t.shift();e[i]=O.get(...t)})),e);load=(e=0)=>{if(!O.get("gallery.enabled"))return!1;I("gallery.load =>",e);let t={continue:new Object,preview:document.body.querySelector(":scope > div.preview-container > video")};if(t.source=t.preview?t.preview.querySelector("source"):null,t.source?(t.continue.src=t.source.getAttribute("src"),t.continue.time=t.preview.currentTime):t.continue=null,T.instances.gallery){T.instances.gallery.options.continue.video=t.continue,T.sets.preview.video=null;let i=T.sets.refresh?T.components.main.getTableItems():null;return T.sets.refresh=!1,null!==i&&0===i.length?!1:(T.components.main.unbind(),void T.instances.gallery.show(!0,null===e?T.instances.gallery.data.selected.index:e,i))}let i=S.get(),n=new Object,r=i.gallery.hasOwnProperty("listState")?i.gallery.listState:1;n.start=null===e?0:e,n=this.setOptions(n,[["console","debug"],["mobile","mobile"],["encodeAll","encodeAll"],["performance","performance"],["blur","gallery.blur"],["sharpen","gallery.imageSharpen"],["scrollInterval","gallery.scrollInterval"]]);let s={reverseOptions:["gallery","reverseOptions"],fitContent:["gallery","fitContent"],autoplay:["gallery","autoplay"],volume:["gallery","volume"]};Object.keys(s).forEach((e=>{(0,w.applyNested)(n,e,i,O.data.gallery[s[e][1]],s[e][0],s[e][1])})),n.list={show:null==r||!!r},(0,w.checkNested)(i,"gallery","listAlignment")?n.list.reverse=0!==i.gallery.listAlignment:n.list.reverse=!1,n.continue={video:t.continue};let o=T.components.main.getTableItems();T.components.main.unbind();let a=new _(o,Object.assign(n,{pipe:I}));T.instances.gallery=a,a&&(a.listen("volumeChange",(e=>{i=S.get(),i.gallery.volume=e,S.set(i)})),a.listen("unbound",(()=>{T.components.main.bind()})))}},T.components.bind=new class{constructor(){return this}unbind=()=>{k.removeListener(document,"keydown","mainKeyDown"),k.removeListener(window,"scroll","windowScroll")};load=()=>{k.addListener(document,"keydown","mainKeyDown",(e=>{if(e.shiftKey&&e.keyCode===T.keys.f)e.preventDefault(),T.components.filter.toggle();else if(e.keyCode===T.keys.escape)T.components.main.overlay.hide((t=>{!0===t&&e.preventDefault()}));else if(e.keyCode===T.keys.g&&!0===O.get("gallery.enabled")){let e=document.body.querySelector(":scope > div.filter-container");"none"!==e.style.display&&document.activeElement===e.querySelector("input")||(T.components.gallery.load(null),T.components.main.menu.toggle(!1))}}));let e=["DOMMouseScroll","mousewheel","wheel"];e.forEach((e=>{window.removeEventListener(e,U.handlePreviewScroll,{passive:!1})})),e.forEach((e=>{window.addEventListener(e,U.handlePreviewScroll,{passive:!1})})),window.removeEventListener("scroll",U.handleBaseScroll,{passive:!1}),window.addEventListener("scroll",U.handleBaseScroll,{passive:!1}),U.handleTopBarVisibility()}},T.components.main.bind=T.components.bind.load,T.components.main.unbind=T.components.bind.unbind,T.components.main.bind(),T.components.main.dates.load(),document.body.querySelector(':scope > .filter-container > input[type="text"]').value="";let ee=T.components.main.menu.create(),te=document.querySelector("body > div.top-bar").offsetHeight;ee&&te&&w.dom.css.set(ee,{top:`${te}px`,visibility:"unset",display:"none"}),J.sort.load(),document.body.removeAttribute("is-loading"),Q("Config",O.data)},375:(e,t)=>{t.capitalize=e=>e.charAt(0).toUpperCase()+e.slice(1),t.debounce=e=>{let t;return i=>{t&&clearTimeout(t),t=setTimeout(e,100,i)}},t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isString=e=>"string"==typeof e,t.getScrollTop=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,t.checkNestedPath=(e,t)=>{t=Array.isArray(t)?t:t.split(".");for(let i=0;i<t.length;i++){if(!e||!Object.prototype.hasOwnProperty.call(e,t[i]))return!1;e=e[t[i]]}return!0},t.checkNested=(e,...t)=>{for(let i=0;i<t.length;i++){if(!e||!Object.prototype.hasOwnProperty.call(e,t[i]))return!1;e=e[t[i]]}return!0},t.setNestedPath=function(e,t,i){t=Array.isArray(t)?t:t.split(".");let n=!1;for(let r=0;r<t.length;r++)e&&Object.prototype.hasOwnProperty.call(e,t[r])&&(r===t.length-1&&(e[t[r]]=i,n=!0),e=e[t[r]]);return n},t.getNestedPath=function(e,t,i){t=Array.isArray(t)?t:t.split(".");for(let n=0;n<t.length;n++){if(!e||!Object.prototype.hasOwnProperty.call(e,t[n]))return i;e=e[t[n]]}return e},t.getNested=function(e,t,...i){for(let n=0;n<i.length;n++){if(!e||!Object.prototype.hasOwnProperty.call(e,i[n]))return t;e=e[i[n]]}return e},t.applyNested=(t,i,n,r,...s)=>{if(t){let o=e.exports.checkNested(n,...s);return t[i]=o?e.exports.getNested(n,r,...s):r,t[i]}return null};const i=(e,t)=>{let i=e.querySelector(`td:nth-child(${t+1})`).getAttribute("data-raw");return void 0!==i?i:e.querySelector(`td:nth-child(${t+1})`).textContent};t.comparer=t=>(n,r)=>{let s=i(n,t),o=i(r,t);return e.exports.isNumeric(s)&&e.exports.isNumeric(o)?s-o:s.localeCompare(o)},t.getReadableSize=(e,t=0)=>{if(0===t)return`0.00${e[0]}`;let i=0;do{t/=1024,i++}while(t>1024);return Math.max(t,.1).toFixed(i<2?0:2)+e[i]},t.setVideoVolume=(e,t)=>{if(!e)return;let i=!(t>0);e.muted=i,e.volume=i?0:t<=100?t:100,e.play().catch((t=>{e.muted=!0,e.volume=0,e.play()}))},t.generateWget=e=>{let t=window.location.href,i=new Array;return e.querySelectorAll("tr.file:not(.filtered) > td:first-child > a").forEach(((e,t)=>{let n=e.textContent.split(".").pop().toLowerCase().trim();i.includes(n)||i.push(n)})),`wget -r -np -nH -nd -e robots=off --accept "${i.join(",")}" "${t}"`},t.stripUrl=e=>e.includes("?")?e.split("?")[0]:e,t.identifyExtension=(e,t=new Object)=>{let i=e.split(".").pop().toLowerCase();return t.image.includes(i)?[i,0]:t.video.includes(i)?[i,1]:null},t.clipboard={copy:e=>{navigator.clipboard?navigator.clipboard.writeText(e):clipboard.copyFallback(e)},copyFallback:e=>{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){console.error(e)}document.body.removeChild(t)}},t.dom={cache:{id:0},new:(t,i=new Object)=>{let n=document.createElement(t);return n.domId=e.exports.dom.cache.id,Object.keys(i).forEach((e=>{"text"===e.toLowerCase()?n.textContent=i[e]:n.setAttribute(e,i[e])})),e.exports.dom.cache.id++,n},wrap:(t,i,n)=>{let r=e.exports.dom.new("div",n);return r.appendChild(t),r},css:{set:(e,t)=>{if(e){Object.keys(t).forEach((i=>{e.style[i]=t[i]}))}}},attributes:{set:(e,t)=>{if(e){Object.keys(t).forEach((i=>{e.setAttribute(i,t[i])}))}}},getIndex:e=>Array.from(e.parentNode.children).indexOf(e)},t.logger=class{constructor(e){return this.condition=e,this}pipe=(...e)=>{this.condition&&console.log(...e)}}},729:()=>{!function(e,t,i,n){var r=[],s={_version:"3.11.7",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout((function(){t(i[e])}),0)},addTest:function(e,t,i){r.push({name:e,fn:t,options:i})},addAsyncTest:function(e){r.push({name:null,fn:e})}},o=function(){};o.prototype=s,o=new o;var a=[];var l=i.documentElement,c="svg"===l.nodeName.toLowerCase();function d(){return"function"!=typeof i.createElement?i.createElement(arguments[0]):c?i.createElementNS.call(i,"http://www.w3.org/2000/svg",arguments[0]):i.createElement.apply(i,arguments)}function u(e,t,n,r){var s,o,a,u,h="modernizr",p=d("div"),y=function(){var e=i.body;return e||((e=d(c?"svg":"body")).fake=!0),e}();if(parseInt(n,10))for(;n--;)(a=d("div")).id=r?r[n]:h+(n+1),p.appendChild(a);return(s=d("style")).type="text/css",s.id="s"+h,(y.fake?y:p).appendChild(s),y.appendChild(p),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(i.createTextNode(e)),p.id=h,y.fake&&(y.style.background="",y.style.overflow="hidden",u=l.style.overflow,l.style.overflow="hidden",l.appendChild(y)),o=t(p,e),y.fake&&y.parentNode?(y.parentNode.removeChild(y),l.style.overflow=u,l.offsetHeight):p.parentNode.removeChild(p),!!o}var h,p=(h=t.matchMedia||t.msMatchMedia)?function(e){var t=h(e);return t&&t.matches||!1}:function(e){var i=!1;return u("@media "+e+" { #modernizr { position: absolute; } }",(function(e){i="absolute"===function(e,i,n){var r;if("getComputedStyle"in t){r=getComputedStyle.call(t,e,i);var s=t.console;null!==r?n&&(r=r.getPropertyValue(n)):s&&s[s.error?"error":"log"].call(s,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else r=!i&&e.currentStyle&&e.currentStyle[n];return r}(e,null,"position")})),i};s.mq=p,function(){var e,t,i,n,s,l;for(var c in r)if(r.hasOwnProperty(c)){if(e=[],(t=r[c]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=typeof t.fn==="function"?t.fn():t.fn,s=0;s<e.length;s++)1===(l=e[s].split(".")).length?o[l[0]]=n:(o[l[0]]&&(!o[l[0]]||o[l[0]]instanceof Boolean)||(o[l[0]]=new Boolean(o[l[0]])),o[l[0]][l[1]]=n),a.push((n?"":"no-")+l.join("-"))}}(),delete s.addTest,delete s.addAsyncTest;for(var y=0;y<o._q.length;y++)o._q[y]();e.Modernizr=o}(window,window,document)}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);i(124)})();